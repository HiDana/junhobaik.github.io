<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.666 'Noto Serif KR';box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:'Noto Serif KR';font-weight:normal;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.666rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.666rem;color:inherit;font-family:'Nanum Gothic';font-weight:bold;text-rendering:optimizeLegibility;font-size:2rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.666rem;color:inherit;font-family:'Nanum Gothic';font-weight:bold;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.666rem;color:inherit;font-family:'Nanum Gothic';font-weight:bold;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.666rem;color:inherit;font-family:'Nanum Gothic';font-weight:bold;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.666rem;color:inherit;font-family:'Nanum Gothic';font-weight:bold;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.666rem;color:inherit;font-family:'Nanum Gothic';font-weight:bold;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.666rem;}ul{margin-left:1.666rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.666rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.666rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.666rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.666rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.666rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.666rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.666rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.666rem;font-size:0.85rem;line-height:1.666rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.666rem;font-size:1rem;line-height:1.666rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.666rem;}blockquote{margin-left:1.666rem;margin-right:1.666rem;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.666rem;}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.666rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.666rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.666rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.666rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.666rem;}b{font-weight:bold;}strong{font-weight:bold;}dt{font-weight:bold;}th{font-weight:bold;}li{margin-bottom:calc(1.666rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.666rem;margin-bottom:calc(1.666rem / 2);margin-top:calc(1.666rem / 2);}li > ul{margin-left:1.666rem;margin-bottom:calc(1.666rem / 2);margin-top:calc(1.666rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.666rem / 2);}code{font-size:0.85rem;line-height:1.666rem;}kbd{font-size:0.85rem;line-height:1.666rem;}samp{font-size:0.85rem;line-height:1.666rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.11067rem;padding-right:1.11067rem;padding-top:0.833rem;padding-bottom:calc(0.833rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}</style><meta name="theme-color" content="#fff"/><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><title data-react-helmet="true">AJAX, XMLHttpRequest와 Fetch 살펴보기 | Dev.White</title><link data-react-helmet="true" href="https://fonts.googleapis.com/css?family=Nanum+Gothic:400,700|Nanum+Gothic+Coding:400,700|Noto+Serif+KR:300,400,700|Raleway" rel="stylesheet"/><meta data-react-helmet="true" name="description" content="AJAX(AsynchronousJavaScriptAndXML)는 비동기 자바스크립트를 뜻하는 것으로, 이제는 비동기적 자바스크립트 동작을 하는 기술들을 통들어서도 AJAX라고 부릅니다. 최초로 Microsoft의 Internet Explorer…"/><meta data-react-helmet="true" property="og:title" content="AJAX, XMLHttpRequest와 Fetch 살펴보기"/><meta data-react-helmet="true" property="og:description" content="AJAX(AsynchronousJavaScriptAndXML)는 비동기 자바스크립트를 뜻하는 것으로, 이제는 비동기적 자바스크립트 동작을 하는 기술들을 통들어서도 AJAX라고 부릅니다. 최초로 Microsoft의 Internet Explorer…"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="Junho Baik"/><meta data-react-helmet="true" name="twitter:title" content="AJAX, XMLHttpRequest와 Fetch 살펴보기"/><meta data-react-helmet="true" name="twitter:description" content="AJAX(AsynchronousJavaScriptAndXML)는 비동기 자바스크립트를 뜻하는 것으로, 이제는 비동기적 자바스크립트 동작을 하는 기술들을 통들어서도 AJAX라고 부릅니다. 최초로 Microsoft의 Internet Explorer…"/><meta data-react-helmet="true" name="keywords" content="ajax,xhr,xmlhttprequest,javascript,ES6"/><script data-react-helmet="true" async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><style type="text/css">
    .anchor {
      float: left;
      padding-right: 4px;
      margin-left: -20px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var offset = element.offsetTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="manifest" href="/manifest.webmanifest"/><meta name="generator" content="Gatsby 2.18.17"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png"/><style data-href="/styles.b143e6a24765690f045b.css">code[class*=language-],pre[class*=language-]{color:#393a34;font-family:Consolas,Bitstream Vera Sans Mono,Courier New,Courier,monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre>code[class*=language-]{font-size:1em}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{background:#b3d4fc}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border:1px solid #ddd;background-color:#fff}:not(pre)>code[class*=language-]{padding:1px .2em;background:#f8f8f8;border:1px solid #ddd}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#998;font-style:italic}.token.namespace{opacity:.7}.token.attr-value,.token.string{color:#e3116c}.token.operator,.token.punctuation{color:#393a34}.token.boolean,.token.constant,.token.entity,.token.inserted,.token.number,.token.property,.token.regex,.token.symbol,.token.url,.token.variable{color:#36acaa}.language-autohotkey .token.selector,.token.atrule,.token.attr-name,.token.keyword{color:#00a4db}.language-autohotkey .token.tag,.token.deleted,.token.function{color:#9a050f}.language-autohotkey .token.keyword,.token.selector,.token.tag{color:#00009f}.token.bold,.token.function,.token.important{font-weight:700}.token.italic{font-style:italic}#Header{display:flex;position:fixed;top:0;z-index:2;width:100%;align-items:flex-end;justify-content:space-between;padding:0 2rem 1rem;height:6rem;max-height:6rem;-webkit-transition:top .3s;transition:top .3s;-webkit-transition-delay:.2s;transition-delay:.2s;background-color:transparent;-webkit-user-select:none;-ms-user-select:none;user-select:none}@media screen and (max-width:1119px){#Header{background-color:#fff;padding:0 1.5rem 1rem}}@media screen and (max-width:839px){#Header{padding:0 1rem .5rem;height:4rem}}@media screen and (max-width:559px){#Header{height:2.5rem;padding:0 1rem .25rem}}#Header.mobile{top:0!important;box-shadow:0 5px 10px 3px #fff}#Header.show{top:0}#Header.hide{top:-6rem}#Header .header-title{display:flex;align-items:flex-end}@media screen and (max-width:559px){#Header .header-title{align-items:center}}#Header .header-title .header-profile-image-wrap{display:flex;align-items:center;border:1px solid #aaa;padding:2px;border-radius:100%;margin-right:.25rem}@media screen and (max-width:559px){#Header .header-title .header-profile-image-wrap{padding:1px}}#Header .header-title .header-profile-image-wrap img{border-radius:100%;margin:0;opacity:.8;-webkit-transition:all .5s;transition:all .5s;-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out}@media screen and (max-width:1119px){#Header .header-title .header-profile-image-wrap img{width:25px!important;height:25px!important}}@media screen and (max-width:559px){#Header .header-title .header-profile-image-wrap img{width:15px!important;height:15px!important}}#Header .header-title .header-profile-image-wrap img:hover{opacity:1}#Header .header-title .header-profile-image-wrap img.inc{width:50px}#Header .header-title .header-profile-image-wrap img.dec{width:25px}#Header .header-title .header-title-text{margin:0;font-size:1.6rem;font-weight:400;font-family:Raleway,Nanum Gothic;opacity:.9;-webkit-transition:.3s;transition:.3s}#Header .header-title .header-title-text:hover{opacity:1}@media screen and (max-width:559px){#Header .header-title .header-title-text{font-size:1.1rem}}#nav ul{display:flex;margin:0}#nav ul li{list-style:none;margin:0 0 0 1rem}#nav ul li svg{margin:0;font-size:1.2rem;color:#666;-webkit-transition:.3s;transition:.3s;opacity:.5}#nav ul li svg:hover{opacity:.8}@media screen and (max-width:559px){#nav ul li svg{font-size:1rem}}#nav ul li span{font-family:Raleway,Nanum Gothic}#nav ul li .search-wrap,#nav ul li .tag-wrap{display:flex;align-items:center;height:1.5rem}#nav ul li .search-wrap svg,#nav ul li .tag-wrap svg{margin-top:3px}#nav ul li .tag-wrap{position:relative}#nav ul li .tag-wrap span{position:absolute;left:-2.7rem;color:#ababab;border-radius:10px;padding-right:2rem;padding-left:.5rem;opacity:0;-webkit-transition:.5s;transition:.5s;-webkit-user-select:none;-ms-user-select:none;user-select:none}body,html{overscroll-behavior-y:none}a,body,html{color:#24292e}a{text-decoration:none}a:active{color:#24292e}#content{display:flex;flex-direction:column;padding-top:6rem;min-height:100vh}@media screen and (max-width:839px){#content{padding-top:4rem}}@media screen and (max-width:559px){#content{padding-top:2.5rem}}#content main{flex-grow:1}#content footer{border-top:1px solid rgba(0,0,0,.1);padding:.25rem 2rem}#top{display:flex;position:fixed;right:0;bottom:0;-webkit-user-select:none;-ms-user-select:none;user-select:none;width:2.5rem;height:2.5rem;align-items:center;justify-content:center;font-size:2rem;border-radius:100%;margin-right:2rem;margin-bottom:2.2rem;-webkit-transition:.5s;transition:.5s;background-color:hsla(0,0%,100%,.75);cursor:pointer}@media screen and (max-width:559px){#top{margin-right:1rem;margin-bottom:1rem}}#top svg{color:#6a737d;margin:0}.blog-post-container .ad,.blog-post-container>div{max-width:720px;margin:0 auto}.blog-post-container .blog-post{padding:1rem}.blog-post-container .blog-post a{-webkit-text-decoration-line:underline;text-decoration-line:underline}.blog-post-container .blog-post .blog-post-title{font-size:1.8rem;margin:0;font-family:"Noto Serif KR";line-height:1.5;word-break:keep-all}.blog-post-container .blog-post .blog-post-info{margin-top:1rem;color:rgba(0,0,0,.64);display:flex;font-family:Nanum Gothic;font-size:.84rem;align-items:center;justify-content:space-between}.blog-post-container .blog-post .blog-post-info>span:nth-child(2){margin:0 .5rem}.blog-post-container .blog-post .blog-post-info .blog-post-tag-list{margin:0;display:flex;flex-wrap:wrap;flex-grow:1}.blog-post-container .blog-post .blog-post-info .blog-post-tag-list .blog-post-tag{list-style:none;margin:0 .3rem 0 0}.blog-post-container .blog-post .blog-post-info .blog-post-tag-list .blog-post-tag a{color:rgba(0,0,0,.64);text-decoration:none;-webkit-transition:.3s;transition:.3s}.blog-post-container .blog-post .blog-post-info .blog-post-tag-list .blog-post-tag a:hover{color:rgba(0,0,0,.84)}.blog-post-container .blog-post .blog-post-info .blog-post-inside-toc{align-self:flex-end;display:none}@media screen and (max-width:1160px){.blog-post-container .blog-post .blog-post-info .blog-post-inside-toc{display:inline-block}}.blog-post-container .blog-post .blog-post-info .blog-post-inside-toc .toc-button{cursor:pointer;color:#6a737d;opacity:.5}.blog-post-container .blog-post .blog-post-info .blog-post-inside-toc .toc-button:hover{opacity:.9}.blog-post-container .blog-post .inside-toc-wrap{display:flex;justify-content:flex-end}.blog-post-container .blog-post .blog-post-content{margin-top:3rem}.blog-post-container .blog-post .blog-post-content h1,.blog-post-container .blog-post .blog-post-content h2,.blog-post-container .blog-post .blog-post-content h3,.blog-post-container .blog-post .blog-post-content h4,.blog-post-container .blog-post .blog-post-content h5,.blog-post-container .blog-post .blog-post-content h6{font-family:"Noto Serif KR"}.blog-post-container .blog-post .blog-post-content h1{margin-top:4rem}.blog-post-container .blog-post .blog-post-content h2{margin-top:3rem}.blog-post-container .blog-post .blog-post-content h3{margin-top:2rem}.blog-post-container .blog-post .blog-post-content li{margin-bottom:.25rem}.blog-post-container .blog-post .blog-post-content li ul{margin-top:.25rem}.blog-post-container .blog-post .blog-post-content code{font-family:Nanum Gothic Coding}.blog-post-container .comments{padding:1rem}.toc{font-family:Nanum Gothic;font-size:.8rem;max-width:220px;min-width:220px;max-height:calc(100vh - 6rem);overflow:auto;-webkit-transition:.3s;transition:.3s;padding-right:.5rem}.toc::-webkit-scrollbar{display:none}.toc ul{margin-top:0;margin-left:.5rem}.toc ul li{list-style:none;margin:0}.toc p{margin:0}.toc a{opacity:.4;-webkit-transition:.2s;transition:.2s;max-width:calc(220px - 1.5rem);display:block;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.toc a:hover{opacity:1!important}.toc a img{display:none!important}.toc.outside{position:fixed;top:0;right:0;margin-top:6rem;opacity:.4}@media screen and (max-width:1160px){.toc.outside{display:none}}.toc.outside:hover{opacity:.9}.toc.inside a{text-decoration:none}.bio{min-width:16rem;width:16rem;margin-left:2rem;font-family:Nanum Gothic}.bio p,.bio span{display:block;margin:0;font-size:.9rem}.bio p svg,.bio span svg{width:1.2rem!important;color:#6a737d;margin-right:.4rem}.bio p{margin-bottom:.25rem}.bio .comment{margin-bottom:1rem}.bio .social{margin-left:.2rem;margin-top:2rem}.bio .social a{display:inline-flex;font-size:1.3rem;margin-right:.5rem}.bio .social a .facebook,.bio .social a .github,.bio .social a .instagram,.bio .social a .linkedin,.bio .social a .rss{color:#6a737d;-webkit-transition:color .3s;transition:color .3s}.bio .social a:hover .rss{color:#e28f48}.bio .social a:hover .linkedin{color:#0077b5}.bio .social a:hover .facebook{color:#1877f2}.bio .social a:hover .instagram{color:#e4405f}.bio .social a:hover .github{color:#181717}.index-wrap{display:flex}@media screen and (max-width:1119px){.index-wrap{margin-top:.5rem}}@media screen and (max-width:839px){.index-wrap{margin-top:1rem}}.index-wrap .bio{position:fixed;top:6rem;left:0;-webkit-transition:all .2s;transition:all .2s;-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:.1s;transition-delay:.1s}@media screen and (max-width:1119px){.index-wrap .bio{display:none}}.index-wrap .index-post-list-wrap{width:100%}.index-wrap .index-post-list-wrap>div{margin:0 auto}#tags{max-width:720px;margin:1rem auto}#tags .tag-list-wrap{margin-bottom:5rem}#tags .tag-list-wrap ul{display:flex;flex-wrap:wrap;justify-content:center;margin:0}#tags .tag-list-wrap ul li{display:flex;align-items:center;margin:.25rem .5rem;list-style:none}#tags .tag-list-wrap ul li span{font-family:Nanum Gothic;cursor:pointer;opacity:.5}#tags .tag-list-wrap ul li span:hover{opacity:.9!important}#tags .post-list{margin:0 auto}.post-list{max-width:640px}.post-list h2,.post-list li,.post-list ul{margin:0}.post-list li{list-style:none}.post-list .post{display:flex;flex-direction:column;max-width:inherit;padding:3rem 1rem}@media screen and (max-width:839px){.post-list .post{padding:2rem 1rem}}.post-list .post:first-child{padding-top:0;border-top:0}.post-list .post>*>*{margin-bottom:.25rem}@media screen and (max-width:839px){.post-list .post>*>*{margin-bottom:.2rem}}@media screen and (max-width:559px){.post-list .post>*>*{margin-bottom:.1rem}}.post-list .post .title{font-size:1.3rem}@media screen and (max-width:839px){.post-list .post .title{font-size:1.1rem}}.post-list .post .info{display:flex;color:rgba(0,0,0,.54);font-size:.9rem}.post-list .post .info .date{display:block;white-space:nowrap}.post-list .post .info .info-dot{margin:0 .25rem}.post-list .post .info .tag-list{display:flex;flex-wrap:wrap}.post-list .post .info .tag-list .tag{margin:0 .5rem 0 0}.post-list .post .info .tag-list .tag span>a{color:rgba(0,0,0,.54)}.post-list .post .excerpt{display:-webkit-box;overflow:hidden;color:rgba(0,0,0,.74);max-width:calc(640px - 2rem);-webkit-line-clamp:2;-webkit-box-orient:vertical;font-size:.95rem}@media screen and (max-width:839px){.post-list .post .excerpt{font-size:.82rem}}#Search{max-width:720px;margin:0 auto;font-family:Nanum Gothic}#Search .search-inner-wrap .input-wrap{display:flex;align-items:center;justify-content:center;margin-bottom:4rem}#Search .search-inner-wrap .input-wrap input{all:unset;margin:.1rem 1rem 0}#Search .search-inner-wrap .input-wrap .search-toggle{font-size:.8rem}#Search .search-inner-wrap .input-wrap .search-toggle span{cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none;-webkit-transition:.2s;transition:.2s}#Search .search-inner-wrap .input-wrap .search-toggle span:first-child{margin-right:.5rem}#Search .search-inner-wrap .post-list{margin:0 auto}#Search .search-inner-wrap .no-result{display:block;text-align:center;font-size:1.2rem}</style><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="alternate" type="application/rss+xml" title="Dev.White | Feed" href="/rss.xml"/><link as="script" rel="preload" href="/app-2563d3950bad603b7edb.js"/><link as="script" rel="preload" href="/component---src-templates-post-tsx-421925dbedcb96894d6e.js"/><link as="script" rel="preload" href="/styles-78025743ed355fde2e60.js"/><link as="script" rel="preload" href="/commons-ac17343f7c6991803af6.js"/><link as="script" rel="preload" href="/webpack-runtime-a257a9a0a6501c8e05d0.js"/><link as="fetch" rel="preload" href="/page-data/ajax-xhr-fetch/page-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><header id="Header" class="show "><div class="header-title"><a href="/"><div class="header-profile-image-wrap"><img src="/static/profile-84a4704395a2596be588c30aae784e41.png" alt="title profile picture" width="25px" height="25px"/></div></a><a href="/"><h1 class="header-title-text">Dev.White</h1></a></div><nav id="nav"><ul><li><div class="tag-wrap"><span>TAG</span><a href="/tags"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="tags" class="svg-inline--fa fa-tags fa-w-20 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"></path></svg></a></div></li><li><div class="search-wrap"><a class="search" href="/search"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg></a></div></li></ul></nav></header><div id="content"><main><div class="blog-post-container"><div class="blog-post"><h1 class="blog-post-title">AJAX, XMLHttpRequest와 Fetch 살펴보기</h1><div class="blog-post-info"><span class="blog-post-date">May 14, 2019</span><span>·</span><ul class="blog-post-tag-list"><li class="blog-post-tag"><a href="/tag/javascript">#javascript</a></li><li class="blog-post-tag"><a href="/tag/ajax">#ajax</a></li><li class="blog-post-tag"><a href="/tag/ES6">#ES6</a></li></ul><div class="blog-post-inside-toc"><div class="toc-button" role="button"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="list-ul" class="svg-inline--fa fa-list-ul fa-w-16 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M48 48a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm448 16H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"></path></svg></div></div></div><div class="inside-toc-wrap" style="display:none"><div class="toc inside"><ul>
<li><a href="/ajax-xhr-fetch/#xmlhttprequest">XMLHttpRequest</a></li>
<li><a href="/ajax-xhr-fetch/#fetch">Fetch</a></li>
</ul></div></div><div class="blog-post-content"><p>AJAX(<strong>A</strong>synchronous<strong>J</strong>avaScript<strong>A</strong>nd<strong>X</strong>ML)는 비동기 자바스크립트를 뜻하는 것으로, 이제는 비동기적 자바스크립트 동작을 하는 기술들을 통들어서도 AJAX라고 부릅니다.</p>
<p>최초로 Microsoft의 Internet Explorer가 탑재하기 시작했고, AJAX가 주족받고 웹 기술에서 빠지지 않는 주요 기술로 부상한 것은 Google의 Gmail과 Map으로 부터라고 할 수 있습니다.</p>
<p><strong>이 포스트는 AJAX의 대표적인 API인  XMLHttpRequest와 Fetch의 기본적인 사용법과 속성들을 살펴봅니다.</strong></p>
<p>AJAX하면 예전에는 XMLHttpRequest API를 이용하는 것이 일반적이었으며,
그리고 불편함을 느낀 사람들이 jQuery를 통해 AJAX를 구현하기 시작했고 그 이후로 Fetch API가 ES2015 표준으로 등장하면서 이제는 일반적으로 Fetch API를 통해 구현하는 것이 일반적이 되었습니다. 이 포스트에서는 jQuery는 살펴보지 않겠습니다.</p>
<h2 id="xmlhttprequest"><a href="#xmlhttprequest" aria-label="xmlhttprequest permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>XMLHttpRequest</h2>
<p> <a href="https://developer.mozilla.org/ko/docs/Web/API/XMLHttpRequest">MDN - XMLHttpRequest</a></p>
<p>우선 XMLHttpRequest로 AJAX를 구현하는 예를 보겠습니다.
<code class="language-text">/src/data.json</code>를 불러와보는 코드입니다.
<code class="language-text">/src/data.json</code>의 내용은 <code class="language-text">{ &quot;name&quot;: &quot;Jhon&quot;, &quot;age&quot;: 29 }</code> 입니다.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// XHR 인스턴스 생성</span>
  <span class="token keyword">const</span> httpRequest <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// httpRequest의 내장 함수 onreadystatechange를 이용해</span>
  <span class="token comment">// 서버 상태의 변화에 따라 코드를 작성 할 수 있습니다.</span>
  httpRequest<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token parameter">event</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
      <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">state : </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>httpRequest<span class="token punctuation">.</span>readyState<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> / status : </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>httpRequest<span class="token punctuation">.</span>status<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> / </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">responseReady</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// 서버로부터 응답을 받았는지와 정상적으로 처리된 응답인지를 검사하는 함수</span>
  <span class="token keyword">const</span> <span class="token function-variable function">responseReady</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>httpRequest<span class="token punctuation">.</span>readyState <span class="token operator">===</span> XMLHttpRequest<span class="token punctuation">.</span><span class="token constant">DONE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>httpRequest<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token comment">// 응답을 정상적으로 받음</span>
          <span class="token keyword">return</span> httpRequest<span class="token punctuation">.</span>responseText<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token function">Error</span><span class="token punctuation">(</span><span class="token string">'request에 문제가 있습니다.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">Error</span><span class="token punctuation">(</span><span class="token string">'request의 상태가 complete(4)가 아닙니다.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">catch</span><span class="token punctuation">(</span> e <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">Error</span><span class="token punctuation">(</span><span class="token string">'Caught Exception: '</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>description<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  httpRequest<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"GET"</span><span class="token punctuation">,</span> <span class="token string">"/src/data.json"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  httpRequest<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>코드를 살펴보겠습니다.</p>
<p><code class="language-text">const httpRequest = new XMLHttpRequest();</code>
생성자를 이용해 XHR 객체 인스턴스를 생성합니다</p>
<p><code class="language-text">httpRequest.onreadystatechange</code>
onreadystatechange 내장 함수를 이용하여 서버의 상태에 따른 코드를 작성합니다. 내부의 코드 console.log를 살펴보면 아래와 같습니다.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
      <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">state : </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>httpRequest<span class="token punctuation">.</span>readyState<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> / status : </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>httpRequest<span class="token punctuation">.</span>status<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> / </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">responseReady</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>여기서 readyState는 서버의 응답 상태를 나타내며 아래 목록의 값을 가질 수 있습니다.</p>
<ul>
<li>0 (uninitialized) -(<strong>request가 초기화되지 않음</strong>)</li>
<li>1 (loading) -(<strong>서버와의 연결이 성사됨</strong>)</li>
<li>2 (loaded) -(<strong>서버가 request를 받음</strong>)</li>
<li>3 (interactive) -(<strong>request(요청)을 처리하는 중</strong>)</li>
<li>4 (complete) -(<strong>request에 대한 처리가 끝났으며응답할 준비가 완료됨</strong>)</li>
</ul>
<p>status code에 대한 설명은 생략합니다.</p>
<p>그리고 responseReady() 함수의 반환값이 마지막으로 위치합니다.</p>
<p>여기까지가 요청에 따른 응답을 처리하는 코드를 작성한 부분이고</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js">  httpRequest<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"GET"</span><span class="token punctuation">,</span> <span class="token string">"/src/data.json"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  httpRequest<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>이 open, send 부분이 요청을 하는 부분입니다. 이 코드로 인해 지금까지 설명한 코드들이 실행되게됩니다.</p>
<p>open을 하면 위에서 설명한 state가 1번까지 실행되며
send를 하면 4번까지 작동하며 응답을 받을 수 있게 됩니다.</p>
<p>open 메소드의 파라미터</p>
<ul>
<li>첫번째로 HTTP 요청 메소드(GET,  POST, HEAD)가 위치하게 됩니다.</li>
<li>두번째 파라미터는 요청 URL로 주소 또는 경로가 될 수 있습니다.</li>
<li>
<p>세번째 파라미터는 생략가능하며 요청이 비동기적으로 실행될지 여부를 결정합니다. </p>
<ul>
<li>default: true</li>
<li>false로 설정된 경우 동기적으로 작동합니다. (send()함수에서 서버로부터 응답이 올 때까지 기다림)</li>
</ul>
</li>
</ul>
<p>아래는 지금까지 코드의 콘솔 출력입니다.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token operator">&lt;</span> state <span class="token builtin class-name">:</span> <span class="token number">1</span> / status <span class="token builtin class-name">:</span> <span class="token number">0</span> / Error: request의 상태가 complete<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>가 아닙니다. 

<span class="token operator">&lt;</span> state <span class="token builtin class-name">:</span> <span class="token number">2</span> / status <span class="token builtin class-name">:</span> <span class="token number">200</span> / Error: request의 상태가 complete<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>가 아닙니다. 

<span class="token operator">&lt;</span> state <span class="token builtin class-name">:</span> <span class="token number">3</span> / status <span class="token builtin class-name">:</span> <span class="token number">200</span> / Error: request의 상태가 complete<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>가 아닙니다. 

<span class="token operator">&lt;</span> state <span class="token builtin class-name">:</span> <span class="token number">4</span> / status <span class="token builtin class-name">:</span> <span class="token number">200</span> / <span class="token punctuation">{</span> <span class="token string">"name"</span><span class="token builtin class-name">:</span> <span class="token string">"Jhon"</span>, <span class="token string">"age"</span><span class="token builtin class-name">:</span> <span class="token number">29</span> <span class="token punctuation">}</span></code></pre></div>
<p>state가 4로 즉 <code class="language-text">XMLHttpRequest.DONE</code>이며 complete 상태일때 응답을 받을 수 있는 상태가 되었고 응답을 받은 것을 확인 할 수 있습니다.</p>
<h2 id="fetch"><a href="#fetch" aria-label="fetch permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Fetch</h2>
<p>기존의 XHR 객체를 이용한 AJAX는 복잡하기도 하며 가독성이 떨어졌었습니다. 그래서 등장한 것이 Fetch API로 ES6(ES2015)에서 표준이 되었습니다.
Fetch는 반환값으로 Promise를 가집니다. 이 또한 ES6에 등장한 것으로 여기서는 이에 대해 자세히 설명하지 않고 기본적인 사용법을 기술합니다.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token function">fetch</span><span class="token punctuation">(</span> resource<span class="token punctuation">,</span> init <span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span> callback <span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span> callback <span class="token punctuation">)</span></code></pre></div>
<p>기본적으로 fetch는 이러한 구조를 가집니다.</p>
<p>fetch의 파라미터</p>
<ul>
<li>resource : 요청 주소, URL, 경로</li>
<li>init (optional) : 설정 객체</li>
</ul>
<p>아래는 설정 객체의 예</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> init <span class="token operator">=</span> <span class="token punctuation">{</span>
  method<span class="token punctuation">:</span> <span class="token string">"POST"</span><span class="token punctuation">,</span>
	body<span class="token punctuation">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">,</span>
	headers<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">"Content-Type"</span><span class="token punctuation">:</span> <span class="token string">"application/json"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
	credentials <span class="token punctuation">:</span> <span class="token string">"same-origin"</span>
<span class="token punctuation">}</span></code></pre></div>
<p>설정 객체의 요소들은 아래 링크에서 확인할 수 있습니다.
<a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch#Parameters">fetch() #parameters | MDN</a></p>
<p>이제 간단한 예제를 살펴보겠습니다.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">// data.json : {name: "Jhon", age: 29}</span>

<span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'/src/data.json'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// 첫번째 then</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>statusText<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">jsonData</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// 두번째 then</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>jsonData<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Object {name: "Jhon", age: 29}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p>fetch에 요청할 경로를 적고 필요의 경우 설정 객체 또한 전달합니다.
그 결과로 Response 인스턴스가 반환됩니다. 첫번째 then에서 response가 그것입니다. Response 객체의 속성들을 살펴보면 상태를 나타내는 status(정수), statusText(문자)가 있고 요청에 대한 헤더 정보를 담고 있는 header, 그리고 응답 내용을 담고 있는 body가 있습니다.</p>
<p>위의 코드를 살펴보면 fetch 요청 후,
첫번째 then에서 상태 코드가 200일 경우 response.json()을 리턴하며, 상태 코드가 다를 경우에는 상태 문자를 출력합니다.
두번째 then으로 넘겨지게 되면 이제 첫번째 then에서 넘겨받은 값을 출력하게 됩니다.</p>
<p>조금 더 자세히 살펴보면
첫번째 then에서 response.json()을 바로 출력하지 않고 다음 then으로 리턴하여 넘겨준 것은 response.json()은 기대하는 실제 값이 아닌 Promise를 가지고 있기 때문입니다. 이 과정을 살펴보면 아래와 같습니다.</p>
<p>Response 객체의 body 값을 추출해내기 위해서는 타입에 따라 아래와 같은 메소드를 사용해야 합니다.</p>
<ul>
<li>arrayBuffer()</li>
<li>blob()</li>
<li>json()</li>
<li>text()</li>
<li>formData()</li>
</ul>
<p>위 메소드들은 모두 Promise를 반환합니다. 그리고 이 Promise가 resolve되어 다음 then에서는 실제 값을 다룰 수 있게 됩니다.</p>
<p>여기까지가 기본적인 내용이며 실제 사용 할 때는 필요에 따라 심화로 init object, Header, Request에 대해서 알아보고 사용하는 것이 좋습니다.</p>
<hr>
<p>References</p>
<ul>
<li><a href="https://developer.mozilla.org/ko/docs/Web/Guide/AJAX/Getting_Started">Ajax 시작하기 - 웹 개발자 안내서 | MDN</a></li>
<li><a href="https://developer.mozilla.org/ko/docs/Web/API/XMLHttpRequest">MDN - XMLHttpRequest</a> </li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch">WindowOrWorkerGlobalScope.fetch() - Web APIs | MDN</a></li>
<li><a href="http://hacks.mozilla.or.kr/2015/05/this-api-is-so-fetching/">정말 멋진 Fetch API! | Mozilla 웹 기술 블로그</a></li>
</ul></div></div><aside class="ad"><ins class=" adsbygoogle" style="display:block" data-ad-client="ca-pub-5001380215831339" data-ad-slot="5214956675" data-ad-layout="" data-ad-layout-key="" data-ad-format="auto" data-full-width-responsive="true"></ins></aside><div class="comments"><div id="disqus_thread"></div></div></div><div class="toc outside"><ul>
<li><a href="/ajax-xhr-fetch/#xmlhttprequest">XMLHttpRequest</a></li>
<li><a href="/ajax-xhr-fetch/#fetch">Fetch</a></li>
</ul></div></main><footer>© <!-- -->2019<!-- --> JunhoBaik, Built with<!-- --> <a href="https://www.gatsbyjs.org">Gatsby</a></footer></div><div id="top" style="opacity:0;pointer-events:none"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="angle-double-up" class="svg-inline--fa fa-angle-double-up fa-w-10 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M177 255.7l136 136c9.4 9.4 9.4 24.6 0 33.9l-22.6 22.6c-9.4 9.4-24.6 9.4-33.9 0L160 351.9l-96.4 96.4c-9.4 9.4-24.6 9.4-33.9 0L7 425.7c-9.4-9.4-9.4-24.6 0-33.9l136-136c9.4-9.5 24.6-9.5 34-.1zm-34-192L7 199.7c-9.4 9.4-9.4 24.6 0 33.9l22.6 22.6c9.4 9.4 24.6 9.4 33.9 0l96.4-96.4 96.4 96.4c9.4 9.4 24.6 9.4 33.9 0l22.6-22.6c9.4-9.4 9.4-24.6 0-33.9l-136-136c-9.2-9.4-24.4-9.4-33.8 0z"></path></svg></div></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-103592668-4', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/ajax-xhr-fetch/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-2563d3950bad603b7edb.js"],"component---src-templates-post-tsx":["/component---src-templates-post-tsx-421925dbedcb96894d6e.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-5867283aa3c31403d9ae.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-f6474804617e626d845e.js"],"component---src-pages-search-tsx":["/component---src-pages-search-tsx-d3fbb2eedcd51aaaaf3f.js"],"component---src-pages-tags-tsx":["/component---src-pages-tags-tsx-d0e2253b1754dfa2158a.js"]};/*]]>*/</script><script src="/webpack-runtime-a257a9a0a6501c8e05d0.js" async=""></script><script src="/commons-ac17343f7c6991803af6.js" async=""></script><script src="/styles-78025743ed355fde2e60.js" async=""></script><script src="/component---src-templates-post-tsx-421925dbedcb96894d6e.js" async=""></script><script src="/app-2563d3950bad603b7edb.js" async=""></script></body></html>